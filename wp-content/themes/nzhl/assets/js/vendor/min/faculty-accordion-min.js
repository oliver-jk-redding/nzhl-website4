!function($,t,n,e){function a(t,n){this.element=t,this.options=$.extend({},o,n),this._defaults=o,this._name=i,this.init()}var i="accordion",o={transitionSpeed:300,transitionEasing:"ease",controlElement:"[data-control]",contentElement:"[data-content]",groupElement:"[data-accordion-group]",singleOpen:!0};a.prototype.init=function(){function e(t,n,e){var a;return function i(){function i(){e||t.apply(o,s),a=null}var o=this,s=arguments;a?clearTimeout(a):e&&t.apply(o,s),a=setTimeout(i,n||100)}}function a(){var t=n.body||n.documentElement,e=t.style,a="transition";if("string"==typeof e[a])return!0;var i=["Moz","webkit","Webkit","Khtml","O","ms"];a="Transition";for(var o=0;o<i.length;o++)if("string"==typeof e[i[o]+a])return!0;return!1}function i(n){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame?requestAnimationFrame(n)||webkitRequestAnimationFrame(n)||mozRequestAnimationFrame(n):setTimeout(n,1e3/60)}function o(t,n){n?H.css({"-webkit-transition":"",transition:""}):H.css({"-webkit-transition":"max-height "+p.transitionSpeed+"ms "+p.transitionEasing,transition:"max-height "+p.transitionSpeed+"ms "+p.transitionEasing})}function s(t){var n=0;t.children().each(function(){n+=$(this).outerHeight(!0)}),t.data("oHeight",n)}function r(t,n,e,a){var i=t.filter(".open").find("> [data-content]"),o=i.find("[data-accordion].open > [data-content]"),s;p.singleOpen||(o=o.not(n.siblings("[data-accordion].open").find("> [data-content]"))),s=i.add(o),t.hasClass("open")&&s.each(function(){var t=$(this).data("oHeight");switch(a){case"+":$(this).data("oHeight",t+e);break;case"-":$(this).data("oHeight",t-e);break;default:throw"updateParentHeight method needs an operation"}$(this).css("max-height",$(this).data("oHeight"))})}function c(t){if(t.hasClass("open")){var n=t.find("> [data-content]"),e=n.find("[data-accordion].open > [data-content]"),a=n.add(e);s(a),a.css("max-height",a.data("oHeight"))}}function d(t,n){if(t.trigger("accordion.close"),k){if(w){var e=t.parents("[data-accordion]");r(e,t,n.data("oHeight"),"-")}n.css(b),t.removeClass("open")}else n.css("max-height",n.data("oHeight")),n.animate(b,p.transitionSpeed),t.removeClass("open")}function h(t,n){if(t.trigger("accordion.open"),k){if(o(n),w){var e=t.parents("[data-accordion]");r(e,t,n.data("oHeight"),"+")}i(function(){n.css("max-height",n.data("oHeight"))}),t.addClass("open")}else n.animate({"max-height":n.data("oHeight")},p.transitionSpeed,function(){n.css({"max-height":"none"})}),t.addClass("open")}function l(t){var n=t.closest(p.groupElement),e=t.siblings("[data-accordion]").filter(".open"),a=e.find("[data-accordion]").filter(".open"),i=e.add(a);i.each(function(){var t=$(this),n=t.find(p.contentElement);d(t,n)}),i.removeClass("open")}function u(){var t=p.singleOpen?v.parents(p.groupElement).length>0:!1;s(H),t&&l(v),v.hasClass("open")?d(v,H):h(v,H)}function f(){E.on("click",u),E.on("accordion.toggle",function(){return p.singleOpen&&E.length>1?!1:void u()}),$(t).on("resize",e(function(){c(v)}))}function m(){H.each(function(){var t=$(this);0!=t.css("max-height")&&(t.closest("[data-accordion]").hasClass("open")?(o(t),s(t),t.css("max-height",t.data("oHeight"))):t.css({"max-height":0,overflow:"hidden"}))}),v.attr("data-accordion")||(v.attr("data-accordion",""),v.find(p.controlElement).attr("data-control",""),v.find(p.contentElement).attr("data-content",""))}var g=this,p=g.options,v=$(g.element),E=v.find("> "+p.controlElement),H=v.find("> "+p.contentElement),x=v.parents("[data-accordion]").length,w=x>0,b={"max-height":0,overflow:"hidden"},k=a();m(),f()},$.fn[i]=function(t){return this.each(function(){$.data(this,"plugin_"+i)||$.data(this,"plugin_"+i,new a(this,t))})}}(jQuery,window,document);
!function($){"use strict";$(function(){window.jQuery||alert("The jQuery library must be included before the smoothscroll.js file.  The plugin will not work propery."),function($){function t(t){return"object"==typeof t?t:{top:t,left:t}}var e=$.scrollTo=function(t,e,o){$(window).scrollTo(t,e,o)};e.defaults={axis:"xy",duration:parseFloat($.fn.jquery)>=1.3?0:1,limit:!0},e.window=function(t){return $(window)._scrollable()},$.fn._scrollable=function(){return this.map(function(){var t=this,e=!t.nodeName||-1!=$.inArray(t.nodeName.toLowerCase(),["iframe","#document","html","body"]);if(!e)return t;var o=(t.contentWindow||t).document||t.ownerDocument||t;return/webkit/i.test(navigator.userAgent)||"BackCompat"==o.compatMode?o.body:o.documentElement})},$.fn.scrollTo=function(o,n,i){return"object"==typeof n&&(i=n,n=0),"function"==typeof i&&(i={onAfter:i}),"max"==o&&(o=9e9),i=$.extend({},e.defaults,i),n=n||i.duration,i.queue=i.queue&&i.axis.length>1,i.queue&&(n/=2),i.offset=t(i.offset),i.over=t(i.over),this._scrollable().each(function(){function r(t){l.animate(f,n,i.easing,t&&function(){t.call(this,o,i)})}if(null!=o){var a=this,l=$(a),s=o,c,f={},u=l.is("html,body");switch(typeof s){case"number":case"string":if(/^([+-]=)?\d+(\.\d+)?(px|%)?$/.test(s)){s=t(s);break}if(s=$(s,this),!s.length)return;case"object":(s.is||s.style)&&(c=(s=$(s)).offset())}$.each(i.axis.split(""),function(t,o){var n="x"==o?"Left":"Top",h=n.toLowerCase(),d="scroll"+n,m=a[d],p=e.max(a,o);if(c)f[d]=c[h]+(u?0:m-l.offset()[h]),i.margin&&(f[d]-=parseInt(s.css("margin"+n))||0,f[d]-=parseInt(s.css("border"+n+"Width"))||0),f[d]+=i.offset[h]||0,i.over[h]&&(f[d]+=s["x"==o?"width":"height"]()*i.over[h]);else{var g=s[h];f[d]=g.slice&&"%"==g.slice(-1)?parseFloat(g)/100*p:g}i.limit&&/^\d+$/.test(f[d])&&(f[d]=f[d]<=0?0:Math.min(f[d],p)),!t&&i.queue&&(m!=f[d]&&r(i.onAfterFirst),delete f[d])}),r(i.onAfter)}}).end()},e.max=function(t,e){var o="x"==e?"Width":"Height",n="scroll"+o;if(!$(t).is("html,body"))return t[n]-$(t)[o.toLowerCase()]();var i="client"+o,r=t.ownerDocument.documentElement,a=t.ownerDocument.body;return Math.max(r[n],a[n])-Math.min(r[i],a[i])}}(jQuery),function(t){function e(e,o,n){var i=o.hash.slice(1),r=document.getElementById(i)||document.getElementsByName(i)[0];if(r){e&&e.preventDefault();var a=t(n.target);if(!(n.lock&&a.is(":animated")||n.onBefore&&!1===n.onBefore(e,r,a))){if(n.stop&&a._scrollable().stop(!0),n.hash){var e=r.id==i?"id":"name",l=t("<a> </a>").attr(e,i).css({position:"absolute",top:t(window).scrollTop(),left:t(window).scrollLeft()});r[e]="",t("body").prepend(l),location=o.hash,l.remove(),r[e]=i}a.scrollTo(r,n).trigger("notify.serialScroll",[r])}}}var o=location.href.replace(/#.*/,""),n=t.localScroll=function(e){t("body").localScroll(e)};n.defaults={duration:1e3,axis:"y",event:"click",stop:!0,target:window,reset:!0},n.hash=function(o){if(location.hash){if(o=t.extend({},n.defaults,o),o.hash=!1,o.reset){var i=o.duration;delete o.duration,t(o.target).scrollTo(0,o),o.duration=i}e(0,location,o)}},t.fn.localScroll=function(i){function r(){return!(!this.href||!this.hash||this.href.replace(this.hash,"")!=o||i.filter&&!t(this).is(i.filter))}return i=t.extend({},n.defaults,i),i.lazy?this.bind(i.event,function(o){var n=t([o.target,o.target.parentNode]).filter(r)[0];n&&e(o,n,i)}):this.find("a,area").filter(r).bind(i.event,function(t){e(t,this,i)}).end().end()}}(jQuery),jQuery(function($){$.localScroll({filter:".smoothScroll",offset:-100})})}),$(function(){var t="#intro";$(document).scroll(function(){$(".panoramic-content :header").each(function(){var e=window.pageYOffset,o=e-$(this).offset().top,n=$(this).attr("id"),i=$(this).get(0).tagName;30>o&&o>-30&&t!=n&&($(".table-of-contents .submenu").hide().find(".highlight-this-toc-item").removeClass("highlight-this-toc-item"),"H2"==i&&($("#menu-"+n).show().prev().addClass("highlight-this-toc-item"),console.log("h2")),"H3"==i&&($(".item-"+n).addClass("highlight-this-toc-item").parent().parent().show(),console.log("h3")),t=n)})})})}(jQuery);